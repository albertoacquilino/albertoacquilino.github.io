<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jamigo ‚Äì Player</title>
  <link rel="stylesheet" href="style_jamigo.css" />
</head>
<body>
  <main class="player-main">
    <!-- Back / Indietro -->
    <a href="portfolio_jamigo_karaoke.html" class="back-btn" aria-label="Back to action page">
      <span class="back-arrow" aria-hidden="true">‚Üê</span>
      <span data-i18n="back">Back</span>
    </a>

    <!-- Title + optional instrument icon -->
    <h1 data-i18n="player_heading">Listen & practice</h1>
    <div class="player-sub">
      <span id="player-icon" aria-hidden="true" class="player-icon">üéµ</span>
      <span id="now-playing" data-i18n="now_playing">Now playing: test.mp3</span>
    </div>

    <!-- Audio element & custom controls -->
    <div class="audio-wrap">
      <audio id="audio" preload="metadata" aria-hidden="true">
        <source src="assets_jamigo/test.mp3" type="audio/mpeg" />
        <!-- fallback text -->
        Your browser does not support the audio element.
      </audio>

      <div class="audio-controls" aria-label="Playback controls">
        <button type="button" id="play-toggle" class="audio-btn" aria-label="Play">
          <span class="audio-icon" aria-hidden="true">‚ñ∂Ô∏é</span>
          <span class="visually-hidden">Play</span>
        </button>

        <div class="audio-timeline">
          <span id="current-time" class="audio-time">0:00</span>
          <input id="seek-slider" type="range" min="0" max="100" value="0" step="0.1" aria-label="Seek">
          <span id="duration" class="audio-time">0:00</span>
        </div>

        <div class="audio-volume" aria-label="Volume">
          <button type="button" id="mute-toggle" class="audio-btn" aria-label="Mute">
            <span class="audio-icon" aria-hidden="true">üîä</span>
            <span class="visually-hidden">Mute</span>
          </button>
          <input id="volume-slider" type="range" min="0" max="1" step="0.01" value="1" aria-label="Volume level">
        </div>
      </div>
    </div>

    <!-- Playback speed controls -->
    <section class="player-controls" aria-label="Playback speed">
      <div class="rate-header">
        <strong id="rate-readout" aria-live="polite">Speed: 1.00√ó</strong>
      </div>

      <div class="rate-inline">
        <button type="button" id="rate-reset" class="rate-btn reset-icon" aria-label="Reset to 100%">
          <span class="icon-reset" aria-hidden="true">‚Üª</span>
          <span class="visually-hidden">Reset to 100%</span>
        </button>
        <div class="rate-custom">
          <label for="rate-input" class="visually-hidden">Custom speed percent</label>
          <input id="rate-input" type="number" min="25" max="400" step="1" value="100" />
          <button type="button" id="rate-set-btn" class="rate-btn">Set %</button>
        </div>
      </div>

      <label for="rate-slider" class="visually-hidden">Playback speed</label>
      <input id="rate-slider" class="rate-slider" type="range" min="0.25" max="4" step="0.01" value="1">
      <div class="rate-scale">
        <span>0.25√ó</span><span>1√ó</span><span>4√ó</span>
      </div>
    </section>

    <!-- Transpose controls -->
    <section class="player-transpose" aria-label="Transpose">
      <div class="transpose-header">
        <strong id="transpose-readout" aria-live="polite">Transpose: 0 semitones</strong>
      </div>
      <label for="transpose-slider" class="visually-hidden">Transpose amount</label>
      <input id="transpose-slider" class="transpose-slider" type="range" min="-5" max="5" step="1" value="0">
      <div class="transpose-scale" aria-hidden="true">
        <span>-5</span><span>0</span><span>+5</span>
      </div>
    </section>

  </main>

  <script src="i18n_jamigo.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="script_jamigo_player.js"></script>
</body>
</html>
